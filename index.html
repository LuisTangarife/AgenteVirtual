<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChatBot Interactivo</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f2f2f2; }
    #chat { border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll; background: #fff; }
    .mensaje { margin: 5px 0; }
    .bot { color: blue; }
    .usuario { color: green; }
  </style>
</head>
<body>
  <h2>ChatBot de Juego</h2>
  <div id="chat"></div>
  <input type="text" id="input" placeholder="Escribe tu mensaje aquí..." />
  <button onclick="enviarMensaje()">Enviar</button>

  <script>
    const baseConocimiento = [
      {
        categoria: "Combate",
        pregunta: "¿Cómo peleo contra un dragón?",
        respuesta: "Debes usar tu espada mágica y evitar su aliento de fuego. ¡Recuerda tener pociones listas!"
      },
      {
        categoria: "Exploración",
        pregunta: "¿Dónde encuentro la llave del castillo?",
        respuesta: "La llave está escondida en la cueva del bosque oscuro, custodiada por duendes."
      },
      {
        categoria: "Magia",
        pregunta: "¿Cómo aprendo un nuevo hechizo?",
        respuesta: "Necesitas encontrar un grimorio antiguo y estudiar durante la luna llena."
      }
    ];

    function agregarMensaje(texto, clase) {
      const chat = document.getElementById("chat");
      const mensaje = document.createElement("div");
      mensaje.className = "mensaje " + clase;
      mensaje.textContent = texto;
      chat.appendChild(mensaje);
      chat.scrollTop = chat.scrollHeight;
    }

    function enviarMensaje() {
      const input = document.getElementById("input");
      const texto = input.value.trim();
      if (texto === "") return;
      agregarMensaje("Tú: " + texto, "usuario");

      const resultado = baseConocimiento.find(entry =>
        texto.toLowerCase().includes(entry.pregunta.toLowerCase())
      );

      if (resultado) {
        agregarMensaje("Bot: " + resultado.respuesta, "bot");
      } else {
        agregarMensaje("Bot: Lo siento, no sé la respuesta a eso todavía.", "bot");
      }

      input.value = "";
    }
  </script>
</body>
</html>
